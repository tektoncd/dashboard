{/*
Copyright 2023-2025 The Tekton Authors
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/}

import { Canvas, Meta, Unstyled } from '@storybook/addon-docs/blocks';
import LinkTo from '@storybook/addon-links/react';

import PackageInfo from '../packages/components/package.json';
import * as DetailsHeaderStories from '../packages/components/src/components/DetailsHeader/DetailsHeader.stories';
import * as GraphStories from '../packages/graph/src/components/Graph/Graph.stories';
import * as NodeStories from '../packages/graph/src/components/Node/Node.stories';
import * as RunHeaderStories from '../packages/components/src/components/RunHeader/RunHeader.stories';

import tektonDashboardLogo from '../src/images/tekton-dashboard-color.svg';

<Meta
  name="Welcome"
  title="Getting started/Welcome"
/>

<Unstyled>
    <div className="welcome__container">
      <div className="welcome__heading">
        <div>
          ## Tekton Dashboard
          ### {`v${PackageInfo.version}`}

          [Tekton Dashboard documentation](https://tekton.dev/docs/dashboard/)

          GitHub repository links:
          - [@tektoncd/dashboard-components](https://github.com/tektoncd/dashboard/tree/main/packages/components/)
          - [@tektoncd/dashboard-utils](https://github.com/tektoncd/dashboard/tree/main/packages/utils/)
          - [@tektoncd/dashboard-graph (experimental)](https://github.com/tektoncd/dashboard/tree/main/packages/graph/)
        </div>
        <img src={tektonDashboardLogo} alt="Tekton Dashboard logo" />
      </div>

      ### Overview

      Tekton Dashboard uses the [Carbon Design System](https://carbondesignsystem.com/) to guide its design, leveraging many of the base components it provides. Tekton Dashboard also publishes a number of its own npm packages containing additional components and utilities used to build on top of these.

      This Storybook showcases each of the published UI components, including examples of variants or customisation where applicable. You can find more details in the following sections.

      {
        process.env.NODE_ENV === 'development' && (
          <p>
            When running in development mode it also contains some content not included in the published packages, see the 'Containers' section for example.
          </p>
        )
      }

      ### Carbon

      {
        process.env.NODE_ENV === 'development' && (
          <p>
            The Carbon storybook can be found at the bottom of the side nav when running in development mode. Carbon v11 is the version currently used by the Dashboard.
          </p>
        )
      }

      Useful links:
      - [Carbon v11 documentation](https://carbondesignsystem.com/)
      - [Carbon v11 storybook](https://react.carbondesignsystem.com/)
      - [Colour usage](https://carbondesignsystem.com/guidelines/color/usage/)
      - [Icon library](https://carbondesignsystem.com/guidelines/icons/library/)


      ### Components

      This section contains stories for the UI components published in the `@tektoncd/dashboard-components` package.

      These are pure UI / presentational components, completely agnostic of any API layer or URL structure, and can be consumed by other applications.

      For example, one variation each of the <LinkTo className="storylink" kind="Components/DetailsHeader" story="Completed">`DetailsHeader`</LinkTo> and <LinkTo className="storylink" kind="Components/RunHeader" story="Failed">`RunHeader`</LinkTo> components are shown below, along with the code used to create these examples.

      <Canvas of={DetailsHeaderStories.Completed} />
      <Canvas of={RunHeaderStories.Failed} />

      {
        process.env.NODE_ENV === 'development' && (
          <>
            <h3 id="containers">Containers</h3>
            <p>
              These are containers which are specific to the Tekton Dashboard application and are not included in the published packages. These generally use the UI components above, so can be used as examples of consuming them in a larger component / application, but rely on API providers or URL structures specific to the Dashboard.
            </p>
          </>
        )
      }

      ### Experimental

      This section contains components that are not currently stable. They may be incomplete or change significantly without notice, therefore are not recommended for consumption by others at this time. They may be explorations for future functionality, or experiments with new designs / behaviours.

      An example of these are the <LinkTo className="storylink" kind="Experimental/Graph/Graph" story="Detailed-1">`Graph`</LinkTo> components published in `@tektoncd/dashboard-graph` which provide a visualisation of a pipeline's structure.

      <Canvas className="tkn-graph-story" of={GraphStories.Condensed1} withToolbar />
      <Canvas className="tkn-graph-story" of={GraphStories.Detailed1} showToolbar />
    </div>
</Unstyled>
